<!doctype html>
<html>
    <head>
        <title>{{ page.title }}</title>
        <link
            href="https://fonts.googleapis.com/css2?family=Inter&display=swap"
            rel="stylesheet"
        />
        <style>
            body {
                font-family: "Inter", sans-serif;
                display: flex;
            }
            .sidebar {
                width: 20%;
                position: fixed;
                left: 0;
            }
            .content {
                margin-left: 22%;
                margin-right: 22%;
            }
            .toc {
                width: 20%;
                position: sticky;
                top: 20px;
                float: right;
            }
        </style>
    </head>
    <body>
        <div class="sidebar">
            <ul>
                <li><a href="topic1">Topic 1</a></li>
                <li><a href="topic2">Topic 2</a></li>
            </ul>
        </div>
        <div class="content">{{ content }}</div>
        <div class="toc">
            <h3>On This Page</h3>
            <ul id="toc-list"></ul>
        </div>
        <script>
            document.addEventListener("DOMContentLoaded", () => {
                const headers = document.querySelectorAll("h1, h2, h3");
                const tocList = document.getElementById("toc-list");
                headers.forEach((header, index) => {
                    header.id = "header-" + index;
                    const li = document.createElement("li");
                    li.innerHTML = `<a href="#${header.id}">${header.textContent}</a>`;
                    tocList.appendChild(li);
                });
            });
        </script>
    </body>
</html>
